#ifndef PsychrometricAlgorithmStatic_hpp
#define PsychrometricAlgorithmStatic_hpp

#include <math.h>
#include <stdlib.h>

//масив значений максимального количества воды грамм в кубометре воздуха при температурах от 0,0 до 29,0 градусах целься, градация 0,1 градуса
 static const float vlaga[]  PROGMEM= {
  4.6, 4.63, 4.67, 4.7, 4.73, 4.77, 4.8, 4.84, 4.87, 4.91,
  4.94, 4.98, 5.01, 5.05, 5.08, 5.12, 5.16, 5.19, 5.23,
  5.27, 5.3, 5.34, 5.38, 5.42, 5.45, 5.49, 5.53, 5.57,
  5.61, 5.65, 5.69, 5.73, 5.77, 5.81, 5.85, 5.89, 5.93,
  5.97, 6.01, 6.06, 6.1, 6.14, 6.18, 6.23, 6.27, 6.31,
  6.36, 6.4, 6.45, 6.49, 6.53, 6.58, 6.63, 6.67, 6.72,
  6.76, 6.81, 6.86, 6.91, 6.95, 7, 7.05, 7.1, 7.14,
  7.19, 7.24, 7.29, 7.34, 7.39, 7.44, 7.49, 7.54, 7.6,
  7.65, 7.7, 7.75, 7.8, 7.86, 7.91, 7.96, 8.02, 8.07,
  8.13, 8.18, 8.24, 8.29, 8.35, 8.4, 8.46, 8.52, 8.57,
  8.63, 8.69, 8.75, 8.81, 8.87, 8.93, 8.99, 9.05, 9.11,
  9.17, 9.23, 9.29, 9.35, 9.41, 9.47, 9.54, 9.6, 9.67,
  9.73, 9.79, 9.86, 9.92, 9.99, 10.05, 10.12, 10.19,
  10.26, 10.32, 10.39, 10.46, 10.53, 10.6, 10.67, 10.73,
  10.8, 10.88, 10.95, 11.02, 11.09, 11.16, 11.24, 11.31,
  11.38, 11.46, 11.53, 11.61, 11.68, 11.76, 11.83, 11.91,
  11.99, 12.06, 12.14, 12.22, 12.3, 12.38, 12.46, 12.54,
  12.62, 12.7, 12.78, 12.86, 12.95, 13.03, 13.11, 13.2,
  13.28, 13.37, 13.45, 13.54, 13.62, 13.71, 13.8, 13.89,
  13.97, 14.06, 14.15, 14.24, 14.33, 14.42, 14.51, 14.61,
  14.7, 14.79, 14.88, 14.98, 15.07, 15.17, 15.2, 15.36,
  15.45, 15.55, 15.65, 15.75, 15.85, 15.95, 16.05,
  16.15, 16.25, 16.35, 16.45, 16.55, 16.66, 16.76, 16.86,
  16.96, 17.07, 17.18, 17.25, 17.39, 17.5, 17.61, 17.72,
  17.83, 17.94, 18.05, 18.16, 18.27, 18.38, 18.5, 18.61,
  18.72, 18.84, 18.95, 19.07, 19.19, 19.31, 19.42, 19.54,
  19, 66, 19.78, 19.9, 20.02, 20.14, 20.27, 20.39, 20.51,
  20.64, 20.76, 20.91, 21.02, 21.14, 21.27, 21.41, 21.53,
  21.66, 21.79, 21.92, 22.05, 22.18, 22.32, 22.45, 22.59,
  22.72, 22.86, 23, 23.14, 23.24, 23.41, 23.55, 23.69,
  23.83, 23.98, 24.12, 24.29, 24.41, 24.55, 24.7, 24.84,
  24.99, 25.14, 25.29, 25.44, 25.59, 25.74, 25.89, 26.05,
  26.2, 26.35, 26.51, 26.68, 26.82, 26.98, 27.14, 27.29,
  27.46, 27.62, 27.78, 27.94, 28.1, 28.27, 28.43, 28.6,
  28.77, 28.93, 29.1, 29.27, 29.44, 29.61, 29.78, 29.96,
  30.13, 30.31, 30.48, 30.65, 30.83, 31.01, 31.19, 31.37
};

class PsychrometricAlgorithmStatic
{
  public:
    static float computeHumidity(float dryT, float wetT) {
      int wetIndex = wetT * 10;  //*10 так как нужно перевести десятые температуры в целые, масивы работаю только с целыми
      int dryIndex = dryT * 10;  //*10 так как нужно перевести десятые температуры в целые, масивы работаю только с целыми
      return (vlaga[wetIndex] - 0.0007947 * (dryT - wetT) * 1000) / vlaga[dryIndex] * 100;
    }
};

#endif
